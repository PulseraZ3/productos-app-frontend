<div class="row g-4">

  <div class="col-12 col-md-6 col-lg-4" *ngFor="let p of productoFiltrados">

    <div class="glass-green h-100">

      <div class="d-flex justify-content-between align-items-start mb-2">
        <h5 class="fw-bold mb-0">{{ p.nombre }}</h5>

        <span class="badge rounded-pill" [ngClass]="p.estado ? 'bg-success' : 'bg-danger'">
          {{ p.estado ? 'Activo' : 'Inactivo' }}
        </span>
      </div>

      <p class="small opacity-75 mb-3">
        {{ p.descripcion }}
      </p>

      <div class="d-flex justify-content-between align-items-center mb-3">
        <span class="price">S/ {{ p.precio }}</span>

        <span [ngClass]="isStockBajo(p.stock) ? 'stock-bajo' : 'stock-ok'">
          Stock: {{ p.stock }}
        </span>
      </div>

      <div class="small mb-3">
        <div><strong>Peso:</strong> {{ p.peso }}</div>
        <div><strong>Vence:</strong> {{ p.fvencimiento | date:'dd/MM/yyyy' }}</div>
        <div><strong>Categoría:</strong> {{ p.idcategoria }}</div>
      </div>

      <div class="d-flex justify-content-between mt-auto">
        <button class="glass-btn">Editar</button>
        <button class="glass-btn warning" (click)="cambiarEstadoProducto(p.idproducto)">
          Estado
        </button>
        <button class="glass-btn info" [routerLink]="['/producto', p.idproducto]">
          Ver
        </button>
        <button class="bg-blue-600 text-white px-3 py-1 rounded"
          [routerLink]="['/admin/producto', p.idproducto, 'imagenes']">

          Subir imágenes

        </button>
      </div>

    </div>

  </div>

</div>